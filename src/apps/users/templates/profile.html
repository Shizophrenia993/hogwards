{% extends 'base.html' %} {% block content %}
<div
  class="flex flex-col items-center justify-center gap-6 px-4 py-8 md:flex-row md:gap-12 md:px-6 lg:py-12"
>
  <div class="flex flex-col items-center gap-4">
    <span class="relative flex shrink-0 overflow-hidden rounded-full h-24 w-24">
      <img
        class="aspect-square h-full w-full"
        alt="User Avatar"
        src="{{ user.image.photo.url }}"
      />
    </span>
    <div class="text-center">
      <h1 class="text-2xl font-bold">{{ user.username }}</h1>
      <p class="text-gray-500 dark:text-gray-400">{{ user.role }}</p>
    </div>
  </div>
  <div class="grid w-full max-w-md grid-cols-3 gap-4 text-center">
    <div>
      <p class="text-xl font-bold">{{ user.count_read_books }}</p>
      <p class="text-gray-500 dark:text-gray-400">Books Read</p>
    </div>
    <div>
      <p class="text-xl font-bold">{{ user.membership }}</p>
      <p class="text-gray-500 dark:text-gray-400">Membership</p>
    </div>
  </div>
</div>
<div class="container mx-auto py-8">
  <h1 class="text-3xl font-bold mb-6">Книжная полка</h1>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <div>
      <h2 class="text-2xl font-bold mb-4">Зарезервированные книги</h2>
      {% if reservations %}
      <div class="space-y-4">
        {% for book in reservations %}
        <div
          class="bg-white rounded-lg shadow-md p-4 flex justify-between items-center"
        >
          <div>
            <h3 class="text-lg font-bold">{{ book.title }}</h3>
            <p class="text-gray-600">{{ book.author.all|join:", " }}</p>
            <p class="text-gray-600">
              {{ book.description|truncatechars:100 }}
            </p>
          </div>
          <div class="flex gap-2">
            <button
              class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"
              onclick="location.href = '/read-book/{{ book.id }}';"
            >
              Прочитано
            </button>
            <button
              class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"
              onclick="location.href = '/delete-book/{{ book.id }}';"
            >
              Удалить
            </button>
          </div>
        </div>
        {% endfor %} {% else %}
        <button
          onclick="location.href = '/books/';"
          class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-11 rounded-md px-8 bg-black text-white"
        >
          Добавить книгу
        </button>
        {% endif %}
      </div>
    </div>
  </div>

  <div class="container mx-auto px-4 py-8 md:px-6 md:py-12">
    <h2 class="mb-4 text-xl font-bold">Популярные книги</h2>
    <div
      class="grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"
    >
      <div
        class="rounded-lg border bg-card text-card-foreground shadow-sm"
        data-v0-t="card"
      >
        <div class="p-6 flex flex-col items-center gap-2">
          <img
            src="https://i.pinimg.com/564x/30/3e/c4/303ec431195b0d33c5fc83cf5a8bf002.jpg"
            width="235"
            height="325"
            alt="Book Cover"
            class="rounded"
            style="aspect-ratio: 150 / 210; object-fit: cover"
          />
          <div class="text-center">
            <h3 class="text-lg font-medium">The Great Gatsby</h3>
            <p class="text-gray-500 dark:text-gray-400">
              by F. Scott Fitzgerald
            </p>
          </div>
        </div>
      </div>
      <div
        class="rounded-lg border bg-card text-card-foreground shadow-sm"
        data-v0-t="card"
      >
        <div class="p-6 flex flex-col items-center gap-2">
          <img
            src="https://i.pinimg.com/originals/89/79/a8/8979a8e97c70b4e8e1099ea0b47cbff2.jpg"
            width="235"
            height="325"
            alt="Book Cover"
            class="rounded"
            style="aspect-ratio: 150 / 210; object-fit: cover"
          />
          <div class="text-center">
            <h3 class="text-lg font-medium">To Kill a Mockingbird</h3>
            <p class="text-gray-500 dark:text-gray-400">by Harper Lee</p>
          </div>
        </div>
      </div>
      <div
        class="rounded-lg border bg-card text-card-foreground shadow-sm"
        data-v0-t="card"
      >
        <div class="p-6 flex flex-col items-center gap-2">
          <img
            src="https://i.pinimg.com/736x/15/86/96/158696e0f1351efc33afbf7651fabdec--penguin-books-pride-and-prejudice.jpg"
            width="235"
            height="325"
            alt="Book Cover"
            class="rounded"
            style="aspect-ratio: 150 / 210; object-fit: cover"
          />
          <div class="text-center">
            <h3 class="text-lg font-medium">Pride and Prejudice</h3>
            <p class="text-gray-500 dark:text-gray-400">by Jane Austen</p>
          </div>
        </div>
      </div>
      <div
        class="rounded-lg border bg-card text-card-foreground shadow-sm"
        data-v0-t="card"
      >
        <div class="p-6 flex flex-col items-center gap-2">
          <img
            src="https://i.pinimg.com/736x/bc/12/e0/bc12e06867cfe3f3c7f3cb382aad333b.jpg"
            width="235"
            height="325"
            alt="Book Cover"
            class="rounded"
            style="aspect-ratio: 150 / 210; object-fit: cover"
          />
          <div class="text-center">
            <h3 class="text-lg font-medium">1984</h3>
            <p class="text-gray-500 dark:text-gray-400">by George Orwell</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endblock %}
</div>
